# 자바의 신

### 목차

- [JIT 컴파일러](#JIT-컴파일러)
- [JVM](#JVM)
- [GC](#GC)

---
### JIT 컴파일러

JIT 라는 것은 Just-In-Time 의 약자로 어떤 메소드의 일부 혹은 전체 코드를 네이티브 코드로 변환하여 
JVM에서 번역하지 않도록 함으로써 보다 빠른 성능을 제공하는 기술이다. JIT를 좀 더 쉬운 말로 하면 동적 변환이라고 보면 된다.
이러한 JIT를 만든 이유는 프로그램 실행을 보다 빠르게 하기 위해서다. 컴파일러지만 실행시에 적용되는 기술이다. 프로그램 실행하는 방식은 인터프린터, 정적컴파일 방식으로 나뉜다.

#### 인터프린터 방식

프로그램을 실행할 때마다 컴퓨터가 알아 들을 수 있는 언어로 변경하는 작업을 수행한다. 따라서, 간편하지만 성능이 느리다.

#### 정적 컴파일 방식

프로그램을 실행하기전에 컴퓨터가 알아 들을 수 있는 언어로 변경하는 작업을 미리 실행한다. 따라서, 변환 작업은 딱 한 번만 수행한다.

이러한 특징 두가지를 모두 담은 것이 JIT이다. 변환 작업은 인터프린터에 의해 지속적으로 수행되지만,
필요한 정보는 캐시(메모리)에 담아두었다가 재사용하게 된다.

#### javac이 하는 일과 다른점

javac을 통해 이미 컴파일이 된 것이라는 생각을 할 수 있다. javac 명령어를 사용하여 만들어진 class파일은 바이트코드이며 
java파일을 어떠한 OS에서도 실행할 수 있게 바이트 코드라는 파일로 만든 것이다. 컴퓨터가 알 수 있도록 하려면 다시 변환 작업이 필요하다.
이 변환 작업을 JIT컴파일러에서 한다.

---
### JVM

JVM이란 Java Virtual Machine 으로 자바 프로그램이 수행되는 프로세스를 의미한다. 다시 말해 java라는 명령어를 통해 애플리케이션이 수행되면 JVM 위에서 동작한다. <br>
JVM에서 프로그램을 찾고 실행하는 작업이 진행된다고 할 수 있다. 메모리 관리 같은 경우 개발자가 하지 않아도 된다. JVM내에서 GC가 관리한다.

---
### GC

GC란 Garbage Collection 으로 JVM에서 메모리 관리를 담당한다.

그림을 통해 힙 영역이 어떻게 되어있는지 확인해보자.

<img width="765" alt="스크린샷 2021-04-30 오후 10 17 47" src="https://user-images.githubusercontent.com/72330632/116700631-f78f8780-aa01-11eb-9ce6-93102a8ef63c.png">

Young영역에는 젊은 객체들이 존재하며 , Old영역에는 오래된 객체들이 자리잡게 되어있다. 
Perm영역에는 클래스나 메소드에 대한 정보가 쌓인다.

#### 자바에서 메모리가 살아가는과정은 다음과 같다.

1. Eden 영역에서 객체가 생성된다.
2. Eden 영역이 모두 채워지면 살아있는 객체만 S0,S1(Survivor)영역으로 복사되며 다시 Eden 영역을 채운다.
3. S0이 모두 채워지면 S1과 같은 다른 Survivor 영역으로 객체된다. Eden 영역에 있는 객체들 중 살아있는 객체들도 다른 Survivor 영역으로 간다.
즉, 해당 영역 둘 중 하나는 비어 있어야 한다.